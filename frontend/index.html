<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Budget Tracker</title>
    <link rel="stylesheet" href="./fonts/fontawesome/css/all.min.css">

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Toggle dark mode -->
        <div class="theme-toggle">
          <button onclick="toggleTheme()" class="theme-button">
            <i class="fa-solid fa-moon theme-icon"></i>
          </button>
        </div>

        <h1>Mes Finances</h1>

        <!-- Section Login -->
        <div id="auth-section">
            <h2 id="auth-title">Connexion</h2>

            <!-- Champ email (caché en mode login) -->
            <input type="email" id="email" placeholder="Email" style="display:none;">

            <input type="text" id="username" placeholder="Nom d'utilisateur">
            <input type="password" id="password" placeholder="Mot de passe">

            <button id="auth-button" onclick="handleAuth()">Se connecter</button>

            <!-- Lien pour basculer -->
            <p class="toggle-auth">
                <span id="toggle-text">Pas encore de compte ?</span>
                <a href="#" onclick="toggleAuthMode(); return false;">S'inscrire</a>
            </p>
        </div>

        <!-- Section Dashboard (caché au début) -->
        <div id="dashboard" style="display:none;">
            <!-- Header avec nom d'utilisateur et déconnexion -->
            <div class="dashboard-header">
                <div class="user-info">
                    <span class="user-icon"><i class="fa-solid fa-user"></i></span>
                    <span id="current-username"></span>
                </div>

                <div class="session-timer">
                     <i class="fa-regular fa-clock"></i> <span id="timer-display">30:00</span>
                </div>

                <button class="logout-button" onclick="logout()">
                    Déconnexion
                </button>
            </div>

            <div id="financial-alert" class="financial-alert" style="display:none;">
                <i class="alert-icon"></i>
                <span class="alert-message"></span>
            </div>

            <!-- Statistiques -->
            <div class="stats">
                <div class="stat-card income-card">
                    <h3><i class="fa-solid fa-arrow-trend-up"></i> Revenus</h3>
                    <p id="total-income">0 $</p>
                </div>

                <div class="stat-card expense-card">
                    <h3><i class="fa-solid fa-arrow-trend-down"></i> Dépenses</h3>
                    <p id="total-expense">0 $</p>
                </div>

                <div class="stat-card balance-card">
                    <h3><i class="fa-solid fa-scale-balanced"></i> Balance</h3>
                    <p id="balance">0 $</p>
                </div>
            </div>

            <!-- Formulaire nouvelle transaction -->
            <h2>Nouvelle transaction</h2>
            <input type="text" id="new-title" placeholder="Titre">
            <input type="number" id="new-amount" placeholder="Montant" step="0.01">
            <select id="new-category">
                <option value="income">Revenu</option>
                <option value="expense">Dépense</option>
            </select>
            <button onclick="createTransaction()">Ajouter</button>

            <!-- Liste des transactions -->
            <h2>Transactions récentes</h2>
            <div id="transactions-list"></div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>

